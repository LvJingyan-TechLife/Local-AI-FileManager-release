<!DOCTYPE html>
<html lang="zh-CN">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="0">
        <title>本地文件AI管理系统</title>
    <link rel="stylesheet" href="/css/globals.css">
        <link rel="stylesheet" href="/css/layout.css">
        <link rel="stylesheet" href="/css/file-manager.css">
        <link rel="stylesheet" href="/css/chat.css">
        <link rel="stylesheet" href="/css/nlp.css">
        <link rel="stylesheet" href="/css/docgen.css">
        <link rel="stylesheet" href="/css/categories.css">
        <link rel="stylesheet" href="/css/settings.css">
        <link rel="stylesheet" href="/css/hidden-features.css">
    <link rel="icon" href="/img/icon.jpg" type="image/jpeg">
</head>
<body>
    <div id="app">
        <!-- 左侧导航栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img class="logo-icon" src="/img/icon.jpg" alt="AI头像" style="width: 32px; height: 32px; border-radius: 50%;">
                    <span class="logo-text">本地文件AI管理系统</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">核心功能</div>
                    <button class="nav-item active" data-tab="chat">
                        <span class="nav-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                        </span>
                        <span class="nav-label">智能对话</span>
                    </button>
                    <button class="nav-item" data-tab="search">
                        <span class="nav-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="M21 21l-4.35-4.35"></path>
                            </svg>
                        </span>
                        <span class="nav-label">语义搜索</span>
                    </button>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">数据管理</div>
                    <button class="nav-item" data-tab="documents">
                        <span class="nav-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                            </svg>
                        </span>
                        <span class="nav-label">文档管理</span>
                    </button>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">扩展工具</div>
                    <button class="nav-item" data-tab="nlp">
                        <span class="nav-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="4 7 4 4 20 4 20 7"></polyline>
                                <line x1="9" y1="20" x2="15" y2="20"></line>
                                <line x1="12" y1="4" x2="12" y2="20"></line>
                            </svg>
                        </span>
                        <span class="nav-label">NLP工具</span>
                    </button>
                    <button class="nav-item" data-tab="docgen">
                        <span class="nav-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="12" y1="18" x2="12" y2="12"></line>
                                <line x1="9" y1="15" x2="15" y2="15"></line>
                            </svg>
                        </span>
                        <span class="nav-label">文档生成</span>
                    </button>
                    <button class="nav-item" data-tab="settings">
                        <span class="nav-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                            </svg>
                        </span>
                        <span class="nav-label">系统设置</span>
                    </button>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <div class="connection-status" id="connectionStatus">
                    <span class="status-dot"></span>
                    <span class="status-text">已连接</span>
                </div>
                <div class="sidebar-toggle" id="sidebarToggle" title="收起侧边栏">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </div>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="main-area">
            <!-- 顶部栏 -->
            <header class="topbar">
                <div class="topbar-left">
                    <button class="menu-toggle" id="menuToggle">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <h1 class="page-title" id="pageTitle">智能对话</h1>
                </div>
                <div class="topbar-right">
                    <button class="topbar-btn" id="loadRagInfo" title="服务状态">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </button>
                </div>
            </header>

            <!-- 内容区域 -->
            <div class="content-wrapper">
                <!-- 智能对话面板 -->
                <section class="panel active" id="chat-panel">
                    <!-- 内容将由app.js动态加载 -->
                </section>

                <!-- 语义搜索面板 -->
                <section class="panel" id="search-panel">
                    <!-- 内容将由app.js动态加载 -->
                </section>

                <!-- 文档管理面板 -->
                <section class="panel" id="documents-panel">
                    <div class="panel-container">
                        <div class="document-management-layout">
                            <!-- 左侧边栏：智能文档上传 -->
                            <div class="doc-sidebar">
                                <!-- 智能文档上传区域 -->
                                <div class="doc-upload-section-enhanced">
                                    <div class="upload-header">
                                        <h4>📤 智能文档上传</h4>
                                    </div>
                                    
                                    <div class="upload-zone-enhanced" id="uploadZone">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="32" height="32">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                            <polyline points="17 8 12 3 7 8"></polyline>
                                            <line x1="12" y1="3" x2="12" y2="15"></line>
                                        </svg>
                                        <h5>拖拽文件到此处或点击选择</h5>
                                        <p>支持 PDF、Word、TXT、图片等多种格式</p>
                                        <div class="upload-tips">
                                            <span class="tip-item">💡 支持批量上传</span>
                                            <span class="tip-item">🤖 智能分类推荐</span>
                                            <span class="tip-item">⚡ 实时处理进度</span>
                                        </div>
                                        <input type="file" id="fileInput" hidden multiple>
                                    </div>

                                    <!-- 上传控制区域 -->
                                    <div class="upload-control-area">
                                        <!-- 分类选择区域 -->
                                        <div class="header-filter-group">
                                            <select id="uploadCategorySelect" class="header-select">
                                                <option value="">选择分类</option>
                                                <optgroup label="🎯 大类筛选">
                                                    <option value="技术研发类">🏢 技术研发类</option>
                                                    <option value="业务管理类">💼 业务管理类</option>
                                                    <option value="财务法务类">📊 财务法务类</option>
                                                    <option value="人力资源类">👥 人力资源类</option>
                                                    <option value="市场营销类">📈 市场营销类</option>
                                                    <option value="项目管理类">📋 项目管理类</option>
                                                    <option value="行政管理类">🏛️ 行政管理类</option>
                                                    <option value="培训教育类">🎓 培训教育类</option>
                                                    <option value="合规安全类">🔒 合规安全类</option>
                                                    <option value="其他文档">📎 其他文档</option>
                                                </optgroup>
                                                <optgroup label="🏢 技术研发类">
                                                    <option value="技术架构设计">🏗️ 技术架构设计</option>
                                                    <option value="开发规范文档">📝 开发规范文档</option>
                                                    <option value="API接口规范">🔌 API接口规范</option>
                                                    <option value="数据库设计文档">🗄️ 数据库设计文档</option>
                                                    <option value="系统运维手册">⚙️ 系统运维手册</option>
                                                    <option value="测试用例文档">🧪 测试用例文档</option>
                                                    <option value="技术方案文档">📋 技术方案文档</option>
                                                    <option value="系统架构图">🏛️ 系统架构图</option>
                                                </optgroup>
                                                <optgroup label="💼 业务管理类">
                                                    <option value="业务流程文档">📊 业务流程文档</option>
                                                    <option value="产品需求文档">📈 产品需求文档</option>
                                                    <option value="市场调研报告">📊 市场调研报告</option>
                                                    <option value="竞品分析报告">🎯 竞品分析报告</option>
                                                    <option value="商业计划书">💡 商业计划书</option>
                                                    <option value="运营策略方案">🎮 运营策略方案</option>
                                                    <option value="业务规范文档">📋 业务规范文档</option>
                                                </optgroup>
                                                <optgroup label="📊 财务法务类">
                                                    <option value="财务报表">💰 财务报表</option>
                                                    <option value="预算方案">📊 预算方案</option>
                                                    <option value="合同模板">📝 合同模板</option>
                                                    <option value="法律条款文档">⚖️ 法律条款文档</option>
                                                    <option value="审计报告">🔍 审计报告</option>
                                                    <option value="税务筹划方案">📋 税务筹划方案</option>
                                                    <option value="成本分析报告">💵 成本分析报告</option>
                                                </optgroup>
                                                <optgroup label="👥 人力资源类">
                                                    <option value="招聘流程文档">👤 招聘流程文档</option>
                                                    <option value="培训体系文档">📚 培训体系文档</option>
                                                    <option value="绩效考核标准">⭐ 绩效考核标准</option>
                                                    <option value="薪酬福利方案">💵 薪酬福利方案</option>
                                                    <option value="员工手册">📖 员工手册</option>
                                                    <option value="组织架构图">🏢 组织架构图</option>
                                                    <option value="岗位说明书">📋 岗位说明书</option>
                                                </optgroup>
                                                <optgroup label="📈 市场营销类">
                                                    <option value="营销策划方案">🎯 营销策划方案</option>
                                                    <option value="品牌建设方案">🏷️ 品牌建设方案</option>
                                                    <option value="客户分析报告">👥 客户分析报告</option>
                                                    <option value="营销素材库">🎨 营销素材库</option>
                                                    <option value="活动策划方案">🎪 活动策划方案</option>
                                                    <option value="新媒体运营方案">📱 新媒体运营方案</option>
                                                    <option value="市场推广计划">📊 市场推广计划</option>
                                                </optgroup>
                                                <optgroup label="📋 项目管理类">
                                                    <option value="项目计划书">📅 项目计划书</option>
                                                    <option value="需求规格文档">📝 需求规格文档</option>
                                                    <option value="会议纪要">🗒️ 会议纪要</option>
                                                    <option value="项目进度报告">📊 项目进度报告</option>
                                                    <option value="风险管控方案">⚠️ 风险管控方案</option>
                                                    <option value="项目复盘报告">🔄 项目复盘报告</option>
                                                    <option value="里程碑文档">🎯 里程碑文档</option>
                                                </optgroup>
                                                <optgroup label="🏛️ 行政管理类">
                                                    <option value="公司制度">📋 公司制度</option>
                                                    <option value="通知公告">📢 通知公告</option>
                                                    <option value="办公流程文档">📄 办公流程文档</option>
                                                    <option value="行政记录">📝 行政记录</option>
                                                    <option value="供应商管理文档">🤝 供应商管理文档</option>
                                                    <option value="办公资产管理">📦 办公资产管理</option>
                                                    <option value="流程规范文档">📋 流程规范文档</option>
                                                </optgroup>
                                                <optgroup label="🎓 培训教育类">
                                                    <option value="培训课程资料">📚 培训课程资料</option>
                                                    <option value="学习指南">📖 学习指南</option>
                                                    <option value="考试题库">✏️ 考试题库</option>
                                                    <option value="技能认证文档">🏅 技能认证文档</option>
                                                    <option value="在线学习课程">💻 在线学习课程</option>
                                                    <option value="培训效果评估">📊 培训效果评估</option>
                                                </optgroup>
                                                <optgroup label="🔒 合规安全类">
                                                    <option value="信息安全政策">🔐 信息安全政策</option>
                                                    <option value="合规审计报告">📋 合规审计报告</option>
                                                    <option value="风险评估报告">⚠️ 风险评估报告</option>
                                                    <option value="应急预案">🚨 应急预案</option>
                                                    <option value="数据安全管理">🛡️ 数据安全管理</option>
                                                    <option value="合规检查清单">✅ 合规检查清单</option>
                                                </optgroup>
                                                <optgroup label="📎 其他文档">
                                                    <option value="个人工作文档">👤 个人工作文档</option>
                                                    <option value="临时工作文件">⏰ 临时工作文件</option>
                                                    <option value="参考资料库">📚 参考资料库</option>
                                                    <option value="通用模板">📄 通用模板</option>
                                                    <option value="其他文档">📝 其他文档</option>
                                                </optgroup>
                                            </select>
                                        </div>

                                        <!-- 上传按钮区域 -->
                                        <div class="upload-actions-buttons">
                                            <button class="btn btn-primary" id="uploadBtn" disabled>
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                    <polyline points="17 8 12 3 7 8"></polyline>
                                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                                </svg>
                                                开始上传
                                            </button>
                                            <button class="btn btn-secondary" id="clearFilesBtn">清空列表</button>
                                        </div>
                                    </div>

                                    <!-- 上传进度和文件列表 -->
                                    <div class="upload-summary">
                                        <!-- 上传进度条 -->
                                        <div class="upload-progress-enhanced" id="uploadProgress" style="display: none;">
                                            <div class="progress-header">
                                                <span>上传进度</span>
                                                <span id="progressPercent">0%</span>
                                            </div>
                                            <div class="progress-bar-enhanced">
                                                <div class="progress-fill-enhanced" id="progressFill"></div>
                                            </div>
                                        </div>
                                        <!-- 文件列表放在进度条下方 -->
                                        <div class="file-list-enhanced" id="fileList"></div>
                                    </div>
                                </div>




                            </div>

                            <!-- 右侧主内容区 -->
                            <div class="doc-main-content">
                                <!-- 文档列表区域 -->
                                <div class="doc-list-section-enhanced">
                                    <div class="doc-list-header">
                                        <!-- 视图切换区域 -->
                                        <div class="header-view-toggle">
                                            <div class="view-toggle">
                                                <button class="view-btn active" data-view="list" title="列表视图">
                                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                                        <line x1="8" y1="6" x2="21" y2="6"></line>
                                                        <line x1="8" y1="12" x2="21" y2="12"></line>
                                                        <line x1="8" y1="18" x2="21" y2="18"></line>
                                                        <line x1="3" y1="6" x2="3.01" y2="6"></line>
                                                        <line x1="3" y1="12" x2="3.01" y2="12"></line>
                                                        <line x1="3" y1="18" x2="3.01" y2="18"></line>
                                                    </svg>
                                                </button>
                                                <button class="view-btn" data-view="tree" title="树形视图">
                                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                                        <path d="M3 6h18"></path>
                                                        <path d="M3 12h18"></path>
                                                        <path d="M3 18h18"></path>
                                                        <path d="M8 6v12"></path>
                                                        <path d="M8 12l4 4 4-4"></path>
                                                    </svg>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- 搜索组 -->
                                        <div class="header-search-group">
                                            <div class="search-input-wrapper">
                                                <input type="text" id="docSearchInput" placeholder="输入文档名称..." class="header-search-input">
                                                <button class="search-btn" id="searchDocBtn">
                                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                                        <circle cx="11" cy="11" r="8"></circle>
                                                        <path d="M21 21L16.65 16.65"></path>
                                                    </svg>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- 状态筛选器 -->
                                        <div class="header-filter-group">
                                            <select id="statusFilter" class="header-select">
                                                <option value="">📋 全部状态</option>
                                                <option value="processed">✅ 已处理</option>
                                                <option value="pending">⏳ 待处理</option>
                                                <option value="error">❌ 处理失败</option>
                                            </select>
                                        </div>

                                        <!-- 时间筛选器 -->
                                        <div class="header-filter-group">
                                            <select id="timeFilter" class="header-select">
                                                <option value="">📅 全部时间</option>
                                                <option value="today">📆 今天</option>
                                                <option value="week">📊 本周</option>
                                                <option value="month">📈 本月</option>
                                            </select>
                                        </div>

                                        <!-- 分类筛选器 -->
                                        <div class="header-filter-group">
                                            <select id="categorySelector" class="header-select">
                                                <option value="all">📋 全部显示</option>
                                                <optgroup label="🎯 大类筛选">
                                                    <option value="技术研发类">🏢 技术研发类</option>
                                                    <option value="业务管理类">💼 业务管理类</option>
                                                    <option value="财务法务类">📊 财务法务类</option>
                                                    <option value="人力资源类">👥 人力资源类</option>
                                                    <option value="市场营销类">📈 市场营销类</option>
                                                    <option value="项目管理类">📋 项目管理类</option>
                                                    <option value="行政管理类">🏛️ 行政管理类</option>
                                                    <option value="培训教育类">🎓 培训教育类</option>
                                                    <option value="合规安全类">🔒 合规安全类</option>
                                                    <option value="其他文档">📎 其他文档</option>
                                                </optgroup>
                                                <optgroup label="🏢 技术研发类">
                                                    <option value="技术架构设计">🏗️ 技术架构设计</option>
                                                    <option value="开发规范文档">📝 开发规范文档</option>
                                                    <option value="API接口规范">🔌 API接口规范</option>
                                                    <option value="数据库设计文档">🗄️ 数据库设计文档</option>
                                                    <option value="系统运维手册">⚙️ 系统运维手册</option>
                                                    <option value="测试用例文档">🧪 测试用例文档</option>
                                                    <option value="技术方案文档">📋 技术方案文档</option>
                                                    <option value="系统架构图">🏛️ 系统架构图</option>
                                                </optgroup>
                                                <optgroup label="💼 业务管理类">
                                                    <option value="业务流程文档">📊 业务流程文档</option>
                                                    <option value="产品需求文档">📈 产品需求文档</option>
                                                    <option value="市场调研报告">📊 市场调研报告</option>
                                                    <option value="竞品分析报告">🎯 竞品分析报告</option>
                                                    <option value="商业计划书">💡 商业计划书</option>
                                                    <option value="运营策略方案">🎮 运营策略方案</option>
                                                    <option value="业务规范文档">📋 业务规范文档</option>
                                                </optgroup>
                                                <optgroup label="📊 财务法务类">
                                                    <option value="财务报表">💰 财务报表</option>
                                                    <option value="预算方案">📊 预算方案</option>
                                                    <option value="合同模板">📝 合同模板</option>
                                                    <option value="法律条款文档">⚖️ 法律条款文档</option>
                                                    <option value="审计报告">🔍 审计报告</option>
                                                    <option value="税务筹划方案">📋 税务筹划方案</option>
                                                    <option value="成本分析报告">💵 成本分析报告</option>
                                                </optgroup>
                                                <optgroup label="👥 人力资源类">
                                                    <option value="招聘流程文档">👤 招聘流程文档</option>
                                                    <option value="培训体系文档">📚 培训体系文档</option>
                                                    <option value="绩效考核标准">⭐ 绩效考核标准</option>
                                                    <option value="薪酬福利方案">💵 薪酬福利方案</option>
                                                    <option value="员工手册">📖 员工手册</option>
                                                    <option value="组织架构图">🏢 组织架构图</option>
                                                    <option value="岗位说明书">📋 岗位说明书</option>
                                                </optgroup>
                                                <optgroup label="📈 市场营销类">
                                                    <option value="营销策划方案">🎯 营销策划方案</option>
                                                    <option value="品牌建设方案">🏷️ 品牌建设方案</option>
                                                    <option value="客户分析报告">👥 客户分析报告</option>
                                                    <option value="营销素材库">🎨 营销素材库</option>
                                                    <option value="活动策划方案">🎪 活动策划方案</option>
                                                    <option value="新媒体运营方案">📱 新媒体运营方案</option>
                                                    <option value="市场推广计划">📊 市场推广计划</option>
                                                </optgroup>
                                                <optgroup label="📋 项目管理类">
                                                    <option value="项目计划书">📅 项目计划书</option>
                                                    <option value="需求规格文档">📝 需求规格文档</option>
                                                    <option value="会议纪要">🗒️ 会议纪要</option>
                                                    <option value="项目进度报告">📊 项目进度报告</option>
                                                    <option value="风险管控方案">⚠️ 风险管控方案</option>
                                                    <option value="项目复盘报告">🔄 项目复盘报告</option>
                                                    <option value="里程碑文档">🎯 里程碑文档</option>
                                                </optgroup>
                                                <optgroup label="🏛️ 行政管理类">
                                                    <option value="公司制度">📋 公司制度</option>
                                                    <option value="通知公告">📢 通知公告</option>
                                                    <option value="办公流程文档">📄 办公流程文档</option>
                                                    <option value="行政记录">📝 行政记录</option>
                                                    <option value="供应商管理文档">🤝 供应商管理文档</option>
                                                    <option value="办公资产管理">📦 办公资产管理</option>
                                                    <option value="流程规范文档">📋 流程规范文档</option>
                                                </optgroup>
                                                <optgroup label="🎓 培训教育类">
                                                    <option value="培训课程资料">📚 培训课程资料</option>
                                                    <option value="学习指南">📖 学习指南</option>
                                                    <option value="考试题库">✏️ 考试题库</option>
                                                    <option value="技能认证文档">🏅 技能认证文档</option>
                                                    <option value="在线学习课程">💻 在线学习课程</option>
                                                    <option value="培训效果评估">📊 培训效果评估</option>
                                                </optgroup>
                                                <optgroup label="🔒 合规安全类">
                                                    <option value="信息安全政策">🔐 信息安全政策</option>
                                                    <option value="合规审计报告">📋 合规审计报告</option>
                                                    <option value="风险评估报告">⚠️ 风险评估报告</option>
                                                    <option value="应急预案">🚨 应急预案</option>
                                                    <option value="数据安全管理">🛡️ 数据安全管理</option>
                                                    <option value="合规检查清单">✅ 合规检查清单</option>
                                                </optgroup>
                                                <optgroup label="📎 其他文档">
                                                    <option value="个人工作文档">👤 个人工作文档</option>
                                                    <option value="临时工作文件">⏰ 临时工作文件</option>
                                                    <option value="参考资料库">📚 参考资料库</option>
                                                    <option value="通用模板">📄 通用模板</option>
                                                    <option value="其他文档">📝 其他文档</option>
                                                </optgroup>
                                            </select>
                                        </div>

                                        <!-- 操作按钮 -->
                                        <div class="header-actions-group">
                                            <div class="doc-list-actions">
                                                <button class="btn btn-secondary" id="refreshDocsBtn" title="刷新列表">
                                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                                        <polyline points="23 4 23 10 17 10"></polyline>
                                                        <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                                                    </svg>
                                                </button>
                                                <button class="btn btn-danger" id="deleteDocBtn" title="删除选中">
                                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                                        <polyline points="3 6 5 6 21 6"></polyline>
                                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                    </svg>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="table-wrapper-enhanced">
                                        <table class="data-table-enhanced" id="docTable">
                                            <thead>
                                                <tr>
                                                    <th><input type="checkbox" id="selectAllDocs"></th>
                                                    <th>ID</th>
                                                    <th>文档信息</th>
                                                    <th>分类</th>
                                                    <th>大类</th>
                                                    <th>分块</th>
                                                    <th>状态</th>
                                                    <th>操作</th>
                                                </tr>
                                            </thead>
                                            <tbody id="docTableBody"></tbody>
                                        </table>
                                    </div>
                                    
                                    <!-- 表格下方统计信息 - 右对齐 -->
                                    <div class="table-stats-footer doc-stats">
                                        <span id="docCount">共 0 个文档</span>
                                        <span class="stats-separator">|</span>
                                        <span id="selectedCount">已选择 0 个</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- NLP工具面板 -->
                <section class="panel" id="nlp-panel">
                    <div class="panel-container">
                        <div class="nlp-grid">
                            <div class="nlp-card">
                                <div class="nlp-card-header">
                                    <span class="nlp-icon">🌐</span>
                                    <h3>语言检测</h3>
                                </div>
                                <textarea id="detectInput" class="nlp-input" placeholder="输入要检测的文本..."></textarea>
                                <button class="btn btn-primary" id="detectBtn">检测语言</button>
                                <div class="nlp-result" id="detectResult">
                                    <p class="result-placeholder">结果将显示在这里</p>
                                </div>
                            </div>

                            <div class="nlp-card">
                                <div class="nlp-card-header">
                                    <span class="nlp-icon">✂️</span>
                                    <h3>文本分词</h3>
                                </div>
                                <textarea id="segmentInput" class="nlp-input" placeholder="输入要分词的文本..."></textarea>
                                <div class="segment-options">
                                    <label>
                                        <input type="radio" name="segmentLang" value="" checked> 自动
                                    </label>
                                    <label>
                                        <input type="radio" name="segmentLang" value="zh"> 中文
                                    </label>
                                    <label>
                                        <input type="radio" name="segmentLang" value="en"> 英文
                                    </label>
                                </div>
                                <button class="btn btn-primary" id="segmentBtn">分词</button>
                                <div class="nlp-result" id="segmentResult">
                                    <p class="result-placeholder">分词结果将显示在这里</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 文档生成面板 -->
                <section class="panel" id="docgen-panel">
                    <!-- 内容将由app.js从components/docgen-panel.html动态加载 -->
                </section>

                <!-- 系统设置面板 -->
                <section class="panel" id="settings-panel">
                    <div class="panel-container">
                        <div class="settings-grid">
                            <div class="settings-card">
                                <h3>🤖 AI模型配置</h3>
                                <p class="section-desc">配置智能对话使用的AI模型参数</p>
                                
                                <div class="config-form">
                                    <div class="form-group">
                                        <label for="settingsModelProvider">模型提供商</label>
                                        <select id="settingsModelProvider" class="config-input">
                                            <option value="ollama">Ollama (本地)</option>
                                            <option value="openai">OpenAI (云端)</option>
                                            <option value="lmstudio">LM Studio (本地)</option>
                                        </select>
                                        <span class="form-hint">选择AI模型的服务提供商</span>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="settingsModelName">模型名称</label>
                                        <div class="model-select-wrapper">
                                            <select id="settingsModelName" class="config-input">
                                                <option value="">加载中...</option>
                                            </select>
                                            <button class="config-btn" id="settingsRefreshModelsBtn" title="刷新模型">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                    <polyline points="23 4 23 10 17 10"></polyline>
                                                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                                                </svg>
                                            </button>
                                        </div>
                                        <span class="form-hint">选择具体使用的AI模型</span>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="settingsRetrieveCount">检索片段数</label>
                                        <select id="settingsRetrieveCount" class="config-input">
                                            <option value="all" selected>全部</option>
                                            <option value="3">3 片段</option>
                                            <option value="5">5 片段</option>
                                            <option value="8">8 片段</option>
                                            <option value="10">10 片段</option>
                                        </select>
                                        <span class="form-hint">每次对话检索的相关文档片段数量</span>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>输出选项</label>
                                        <div class="checkbox-group">
                                            <label class="checkbox-item">
                                                <input type="checkbox" id="settingsStreamOutput" checked>
                                                <span>启用流式输出</span>
                                            </label>
                                            <label class="checkbox-item">
                                                <input type="checkbox" id="settingsIncludeContext" checked>
                                                <span>显示信息来源</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="settings-card">
                                <h3>🔍 搜索设置</h3>
                                <p class="section-desc">配置智能对话的搜索模式</p>
                                
                                <div class="config-form">
                                    <div class="form-group">
                                        <label for="settingsSearchMode">搜索模式</label>
                                        <select id="settingsSearchMode" class="config-input">
                                            <option value="precise" selected>精确搜索</option>
                                        </select>
                                        <span class="form-hint">当前系统只支持精确搜索模式</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="settings-card">
                                <h3>📋 可用模型</h3>
                                <div class="model-list" id="modelList">
                                    <div class="empty-hint">加载中...</div>
                                </div>
                            </div>
                            
                            <div class="settings-card">
                                <h3>服务状态</h3>
                                <div class="service-status" id="serviceStatus">
                                    <div class="status-item">
                                        <span class="status-label">RAG服务</span>
                                        <span class="status-badge checking">检查中...</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">向量数据库</span>
                                        <span class="status-badge checking">检查中...</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">AI模型</span>
                                        <span class="status-badge checking">检查中...</span>
                                    </div>
                                </div>
                                <button class="btn btn-secondary" id="refreshStatus">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                        <polyline points="23 4 23 10 17 10"></polyline>
                                        <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                                    </svg>
                                    刷新状态
                                </button>
                            </div>

                            <div class="settings-card">
                                <h3>扩展功能接口</h3>
                                <div class="extension-list">
                                    <div class="extension-item">
                                        <div class="extension-info">
                                            <span class="extension-name">📊 数据分析</span>
                                            <span class="extension-desc">文档统计和趋势分析</span>
                                        </div>
                                        <span class="extension-status disabled">待开发</span>
                                    </div>
                                    <div class="extension-item">
                                        <div class="extension-info">
                                            <span class="extension-name">📈 知识图谱</span>
                                            <span class="extension-desc">实体关系可视化</span>
                                        </div>
                                        <span class="extension-status disabled">待开发</span>
                                    </div>
                                    <div class="extension-item">
                                        <div class="extension-info">
                                            <span class="extension-name">🔗 API集成</span>
                                            <span class="extension-desc">第三方服务接口</span>
                                        </div>
                                        <span class="extension-status disabled">待开发</span>
                                    </div>
                                </div>
                            </div>

                            <div class="settings-card">
                                <h3>关于系统</h3>
                                <div class="about-info">
                                    <p>本地文件AI管理系统</p>
                                    <p class="version">版本 1.0.0</p>
                                    <p class="tech">基于 RAG + Ollama 技术</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- 移动端侧边栏遮罩 -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
    </div>

    <!-- Toast 提示 -->
    <div class="toast-container" id="toastContainer"></div>

 
    <script src="/js/globals.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/toast.js"></script>
    <script src="/js/categories.js"></script>
    <script src="/js/file-manager.js"></script>
    <script src="/js/chat.js"></script>
    <script src="/js/docgen.js"></script>
    <script src="/js/app.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
