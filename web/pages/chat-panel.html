<div class="chat-with-sidebar">
    <div class="chat-container">
        <div class="chat-messages" id="chatMessages">
            <div class="welcome-screen">
                <div class="welcome-content">
                    <div class="welcome-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                    </div>
                    <h2>有什么可以帮您的？</h2>
                    <p>基于您的文档库，我可以帮您回答问题、搜索信息、分析内容</p>
                    
                    <div class="quick-prompts">
                        <button class="quick-prompt" data-question="总结一下文档库中有哪些主要内容？">
                            📋 总结文档内容
                        </button>
                        <button class="quick-prompt" data-question="提取所有技术关键词和技术概念">
                            🔑 提取关键词
                        </button>
                        <button class="quick-prompt" data-question="文档中涉及了哪些方法和流程？">
                            📊 方法和流程
                        </button>
                        <button class="quick-prompt" data-question="根据文档内容回答以下问题：">
                            ❓ 智能问答
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <button class="sidebar-toggle" id="toggleRetrieval" title="收起">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </button>

        <div class="chat-input-area">
            <div class="chat-input-container">
                <div class="chat-input-wrapper">
                    <textarea 
                        id="chatInput" 
                        class="chat-input" 
                        placeholder="输入您的问题..." 
                        rows="1"
                    ></textarea>
                    <button class="send-btn" id="sendChatBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="chat-hint">
                按 Enter 发送，Shift + Enter 换行
            </div>
        </div>
    </div>

    <div class="retrieval-sidebar" id="retrievalSidebar">
        <div class="sidebar-header">
            <h3 id="retrievalTitle">📚 相关片段：0</h3>
        </div>
        <div class="sidebar-content" id="retrievalContent">
            <div class="empty-hint">暂无相关内容</div>
        </div>
    </div>
</div>